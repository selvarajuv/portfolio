import { VineConfig } from "@/types/decorative";

// Profile picture frame vines
export const profileFrameVines: VineConfig[] = [
  // Top vines
  {
    top: "-20px",
    left: "20px",
    width: "80px",
    height: "120px",
    opacity: 0.3,
    rotate: "-15deg",
    scale: "0.6",
  },
  {
    top: "-10px",
    left: "80px",
    width: "90px",
    height: "140px",
    opacity: 0.35,
    rotate: "25deg",
    scale: "0.7",
    scaleX: true,
  },
  {
    top: "-15px",
    right: "80px",
    width: "85px",
    height: "130px",
    opacity: 0.32,
    rotate: "-20deg",
    scale: "0.65",
  },
  {
    top: "-5px",
    right: "20px",
    width: "75px",
    height: "110px",
    opacity: 0.28,
    rotate: "30deg",
    scale: "0.55",
    scaleX: true,
  },

  // Left side vines
  {
    top: "60px",
    left: "-25px",
    width: "100px",
    height: "150px",
    opacity: 0.33,
    rotate: "-45deg",
    scale: "0.75",
  },
  {
    top: "180px",
    left: "-20px",
    width: "95px",
    height: "140px",
    opacity: 0.31,
    rotate: "-35deg",
    scale: "0.7",
    scaleX: true,
  },
  {
    top: "300px",
    left: "-15px",
    width: "90px",
    height: "135px",
    opacity: 0.29,
    rotate: "-40deg",
    scale: "0.68",
  },
  {
    top: "420px",
    left: "-10px",
    width: "85px",
    height: "125px",
    opacity: 0.27,
    rotate: "-50deg",
    scale: "0.65",
    scaleX: true,
  },

  // Right side vines
  {
    top: "80px",
    right: "-25px",
    width: "95px",
    height: "145px",
    opacity: 0.34,
    rotate: "45deg",
    scale: "0.72",
    scaleX: true,
  },
  {
    top: "200px",
    right: "-20px",
    width: "90px",
    height: "135px",
    opacity: 0.32,
    rotate: "35deg",
    scale: "0.69",
  },
  {
    top: "320px",
    right: "-15px",
    width: "85px",
    height: "130px",
    opacity: 0.3,
    rotate: "40deg",
    scale: "0.66",
    scaleX: true,
  },
  {
    top: "440px",
    right: "-10px",
    width: "80px",
    height: "120px",
    opacity: 0.28,
    rotate: "50deg",
    scale: "0.63",
  },

  // Bottom vines
  {
    bottom: "-20px",
    left: "30px",
    width: "85px",
    height: "125px",
    opacity: 0.31,
    rotate: "15deg",
    scale: "0.67",
    scaleY: true,
  },
  {
    bottom: "-15px",
    left: "100px",
    width: "90px",
    height: "135px",
    opacity: 0.33,
    rotate: "-25deg",
    scale: "0.7",
    scaleY: true,
    scaleX: true,
  },
  {
    bottom: "-10px",
    right: "100px",
    width: "80px",
    height: "120px",
    opacity: 0.29,
    rotate: "20deg",
    scale: "0.64",
    scaleY: true,
  },
  {
    bottom: "-25px",
    right: "40px",
    width: "75px",
    height: "115px",
    opacity: 0.27,
    rotate: "-30deg",
    scale: "0.61",
    scaleY: true,
    scaleX: true,
  },

  // Corner accent vines
  {
    top: "40px",
    left: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "-60deg",
    scale: "0.5",
  },
  {
    top: "40px",
    right: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "60deg",
    scale: "0.5",
    scaleX: true,
  },
  {
    bottom: "40px",
    left: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "60deg",
    scale: "0.5",
    scaleY: true,
  },
  {
    bottom: "40px",
    right: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "-60deg",
    scale: "0.5",
    scaleY: true,
    scaleX: true,
  },
];

// Skills grid frame vines
export const skillsFrameVines: VineConfig[] = [
  // Top vines
  {
    top: "-20px",
    left: "60px",
    width: "80px",
    height: "120px",
    opacity: 0.3,
    rotate: "-15deg",
    scale: "0.6",
  },
  {
    top: "-15px",
    left: "200px",
    width: "85px",
    height: "130px",
    opacity: 0.32,
    rotate: "-20deg",
    scale: "0.65",
  },
  {
    top: "-10px",
    right: "200px",
    width: "90px",
    height: "140px",
    opacity: 0.35,
    rotate: "25deg",
    scale: "0.7",
    scaleX: true,
  },
  {
    top: "-15px",
    right: "60px",
    width: "85px",
    height: "130px",
    opacity: 0.32,
    rotate: "-20deg",
    scale: "0.65",
  },

  // Left side vines
  {
    top: "80px",
    left: "-25px",
    width: "100px",
    height: "150px",
    opacity: 0.33,
    rotate: "-45deg",
    scale: "0.75",
  },
  {
    top: "280px",
    left: "-20px",
    width: "95px",
    height: "140px",
    opacity: 0.31,
    rotate: "-35deg",
    scale: "0.7",
    scaleX: true,
  },

  // Right side vines
  {
    top: "80px",
    right: "-25px",
    width: "95px",
    height: "145px",
    opacity: 0.34,
    rotate: "45deg",
    scale: "0.72",
    scaleX: true,
  },
  {
    top: "280px",
    right: "-20px",
    width: "90px",
    height: "135px",
    opacity: 0.32,
    rotate: "35deg",
    scale: "0.69",
  },

  // Bottom vines
  {
    bottom: "-20px",
    left: "80px",
    width: "85px",
    height: "125px",
    opacity: 0.31,
    rotate: "15deg",
    scale: "0.67",
    scaleY: true,
  },
  {
    bottom: "-15px",
    left: "220px",
    width: "90px",
    height: "135px",
    opacity: 0.33,
    rotate: "-25deg",
    scale: "0.7",
    scaleY: true,
    scaleX: true,
  },
  {
    bottom: "-10px",
    right: "220px",
    width: "80px",
    height: "120px",
    opacity: 0.29,
    rotate: "20deg",
    scale: "0.64",
    scaleY: true,
  },
  {
    bottom: "-25px",
    right: "80px",
    width: "75px",
    height: "115px",
    opacity: 0.27,
    rotate: "-30deg",
    scale: "0.61",
    scaleY: true,
    scaleX: true,
  },

  // Corner accent vines
  {
    top: "40px",
    left: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "-60deg",
    scale: "0.5",
  },
  {
    top: "40px",
    right: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "60deg",
    scale: "0.5",
    scaleX: true,
  },
  {
    bottom: "40px",
    left: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "60deg",
    scale: "0.5",
    scaleY: true,
  },
  {
    bottom: "40px",
    right: "40px",
    width: "70px",
    height: "105px",
    opacity: 0.25,
    rotate: "-60deg",
    scale: "0.5",
    scaleY: true,
    scaleX: true,
  },
];

// Footer accent vines
export const footerVines: VineConfig[] = [
  {
    bottom: "20px",
    left: "20px",
    width: "60px",
    height: "90px",
    opacity: 0.15,
    rotate: "45deg",
    scale: "0.4",
    scaleY: true,
  },
  {
    bottom: "20px",
    right: "20px",
    width: "60px",
    height: "90px",
    opacity: 0.15,
    rotate: "-45deg",
    scale: "0.4",
    scaleY: true,
    scaleX: true,
  },
];

function vineLocations(start: number, end: number, iterator: number): string[] {
  const result: string[] = [];
  for (let i = start; i <= end; i += iterator) {
    result.push(`${i}%`);
  }
  return result;
}

// Hybrid approach: clamp() for sizes + breakpoint-specific density
export const generateSideVines = (
  side: "left" | "right",
  density: "mobile" | "tablet" | "desktop" = "desktop"
): VineConfig[] => {
  const vines: VineConfig[] = [];
  const isLeft = side === "left";

  // Use clamp() for smooth size scaling
  const getClampedWidth = (baseVw: number) => {
    const minPx = Math.max(20, baseVw * 2);
    const maxPx = baseVw * 20;
    return `clamp(${minPx}px, ${baseVw}vw, ${maxPx}px)`;
  };

  const getClampedHeight = (baseVw: number) => {
    // Make vines MUCH taller to fill vertical gaps
    const minPx = Math.max(120, baseVw * 12); // Increased minimum height
    const maxPx = baseVw * 40; // Much taller maximum height
    return `clamp(${minPx}px, ${baseVw}vw, ${maxPx}px)`;
  };

  const getClampedPosition = (baseVw: number) => {
    if (baseVw < 0) {
      const minPx = baseVw * 20;
      const maxPx = Math.max(-40, baseVw * 2);
      return `clamp(${minPx}px, ${baseVw}vw, ${maxPx}px)`;
    } else {
      const minPx = Math.max(5, baseVw * 2);
      const maxPx = baseVw * 20;
      return `clamp(${minPx}px, ${baseVw}vw, ${maxPx}px)`;
    }
  };

  const densityConfigs = {
    mobile: {
      topVines: [...vineLocations(-20, 100, 3), ...vineLocations(-20, 100, 16)],
      layer1: [...vineLocations(-7, 100, 4), ...vineLocations(-20, 100, 14)],
      layer2: [...vineLocations(-20, 100, 5), ...vineLocations(-7, 100, 13)],
      layer3: [...vineLocations(-7, 100, 2), ...vineLocations(-20, 100, 11)],
    },
    tablet: {
      topVines: [
        ...vineLocations(-20, 100, 7),
        ...vineLocations(-20, 100, 20),
        ...vineLocations(-20, 100, 25),
      ],
      layer1: [
        ...vineLocations(-20, 100, 3),
        ...vineLocations(-20, 100, 23),
        ...vineLocations(-20, 100, 27),
      ],
      layer2: [
        ...vineLocations(-20, 100, 9),
        ...vineLocations(-20, 100, 26),
        ...vineLocations(-20, 100, 33),
      ],
      layer3: [
        ...vineLocations(-20, 100, 6),
        ...vineLocations(-20, 100, 24),
        ...vineLocations(-20, 100, 30),
      ],
    },
    desktop: {
      topVines: [
        ...vineLocations(-20, 100, 15),
        ...vineLocations(-20, 100, 29),
      ],
      layer1: [...vineLocations(-50, 100, 12), ...vineLocations(-20, 100, 26)],
      layer2: [...vineLocations(-20, 100, 18), ...vineLocations(-20, 100, 10)],
      layer3: [...vineLocations(-20, 100, 18)],
    },
  };

  const config = densityConfigs[density];

  // Top vines - more on smaller screens with taller vines
  config.topVines.forEach((top, index) => {
    vines.push({
      top,
      [isLeft ? "left" : "right"]:
        index % 2 === 0 ? getClampedPosition(-1) : getClampedPosition(4),
      width: getClampedWidth(6 + (index % 2) * 0.5),
      height: getClampedHeight(35 + (index % 2) * 8), // Much taller vines
      opacity: 0.12 + (index % 2) * 0.02,
      rotate: `${isLeft ? "-" : ""}${8 + (index % 2) * 4}deg`,
      scale: `${0.7 + (index % 2) * 0.1}`,
      scaleX: index % 2 === 1,
    });
  });

  // Layer 1 - Background vines with increased height
  config.layer1.forEach((top, index) => {
    vines.push({
      top,
      [isLeft ? "left" : "right"]:
        index % 2 === 0 ? getClampedPosition(-1.2) : getClampedPosition(5),
      width: getClampedWidth(6.5 + (index % 3) * 0.3),
      height: getClampedHeight(40 + (index % 3) * 10), // Much taller
      opacity: 0.14 + (index % 3) * 0.02,
      rotate: `${isLeft ? "-" : ""}${5 + (index % 3) * 3}deg`,
      scale: `${0.75 + (index % 3) * 0.1}`,
      scaleX: index % 2 === 1,
    });
  });

  // Layer 2 - Mid-ground vines with increased height
  config.layer2.forEach((top, index) => {
    vines.push({
      top,
      [isLeft ? "left" : "right"]:
        index % 2 === 0 ? getClampedPosition(3.5) : getClampedPosition(6),
      width: getClampedWidth(6 + (index % 3) * 0.3),
      height: getClampedHeight(38 + (index % 3) * 8), // Taller
      opacity: 0.18 + (index % 3) * 0.02,
      rotate: `${isLeft ? "" : "-"}${4 + (index % 3) * 3}deg`,
      scale: `${0.8 + (index % 3) * 0.1}`,
      scaleX: index % 2 === 1,
    });
  });

  // Layer 3 - Foreground vines with increased height
  config.layer3.forEach((top, index) => {
    vines.push({
      top,
      [isLeft ? "left" : "right"]:
        index % 2 === 0 ? getClampedPosition(2.5) : getClampedPosition(5.5),
      width: getClampedWidth(6.5 + (index % 3) * 0.4),
      height: getClampedHeight(42 + (index % 3) * 6), // Taller foreground vines
      opacity: 0.22 + (index % 3) * 0.02,
      rotate: `${isLeft ? "-" : ""}${3 + (index % 3) * 2}deg`,
      scale: `${0.85 + (index % 3) * 0.08}`,
      scaleX: index % 2 === 1,
    });
  });

  return vines;
};
